<%= render 'account/shared/page' do |page| %>
  <% page.title "Outputs for #{@prompt.name} - #{@execution.label}" %>
  <% page.body do %>
    <% @outputs.sort_by { |output| output.created_at }.reverse.each do |output| %>
      <%= cable_ready_updates_for output do %>
        <%= render 'account/shared/box', divider: true do |box| %>
          <% box.title "#{output.prompt_execution.model}" %>
          <% box.description do %>
            <%#= t('.description') %>
            <%#= t('.manage_description') if can? :manage, output %>
          <% end %>

          <% box.shortcut_buttons do %>
            <div class="group">
              <span class="text-white group-hover:text-black">Tokens (in/out):<%= output.input_tokens %>/<%= output.output_tokens %> // <%= output.message_id_api %></span>
              ?
            </div>
          <% end %>

          <% box.body do %>
            <% with_attribute_settings object: output, strategy: :label do %>
              <div class="bg-gray-100 p-2 rounded-md">
                <code>
                  <%= simple_format output.results %>
                </code>
              </div>
              <%# ğŸš… super scaffolding will insert new fields above this line. %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>

      <%# ğŸš… super scaffolding will insert new children above this line. %>
    <% end %>
  <% end %>
<% end %>
